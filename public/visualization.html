<html>
<head>
    <title>
        Yeah baby
    </title>

    <style>
        .hidden {
            display: none;
        }
    </style>
</head>

<body>


<div id="loading">
    Connecting, please wait!
</div>

<div id="controls" class="hidden">
    <button id="take-off">Take-off</button>
    <button id="land">Land</button>
</div>

<script src="clubber.js"></script>
<script>
    var ws = new WebSocket('ws://localhost:40510');

    // event emmited when connected
    ws.onopen = function () {
        console.log('websocket is connected ...');

        // sending a send event to websocket server
        ws.send('CONNECTED');
    };

    // event emmited when receiving message
    ws.onmessage = function (ev) {
        switch(ev.data) {
            case 'READY':
                document.querySelector('#loading').className = 'hidden';
                document.querySelector('#controls').className = '';
                break;
        }
    };


    document.querySelector('#take-off').addEventListener('click', () => {
        ws.send('TAKEOFF');
    });

    document.querySelector('#land').addEventListener('click', () => {
        ws.send('LAND');
    });
</script>
</body>
</html>